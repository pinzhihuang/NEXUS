# Nixpacks configuration for Railway deployment
# Adds dependencies for Playwright browser automation

[phases.setup]
# Add required system packages for Playwright
# "..." means keep all default packages that Nixpacks would include
nixPkgs = ["...", "chromium", "nss", "freetype", "harfbuzz", "libjpeg", "libpng"]

[phases.install]
# Install Python dependencies AND Playwright browsers
cmds = [
    "pip install -r requirements.txt",
    "playwright install chromium --with-deps || playwright install chromium"
]

[start]
cmd = "bash -x start.sh 2>&1"
